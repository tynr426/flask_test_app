!function(a,b){var c=function(c,d){this.obj=c[0]||b.document,this.defaults={setSwitch:!0,setSwitchAll:!0},this.option=a.extend({},this.defaults,d),this.inputArray=[],this.sock=!1};c.prototype.init=function(){this.initInput(),this.bindInput(),this.packInput(),this.stateInput()},c.prototype.initInput=function(){var b=this;if(!(b.obj.length<=0))for(var c=a("input[type=checkbox], input[type=radio]",this.obj),d=0;d<c.length;d++)b.inputArray[b.inputArray.length]=c[d]},c.prototype.packInput=function(){var b=this;if(b.option.setSwitch)for(var c=0;c<b.inputArray.length;c++){var d=b.inputArray[c].parentNode;if("LABEL"!==d.tagName){var e=document.createElement("label");"checkbox"===b.inputArray[c].type?e.className="custom-checkbox":"radio"===b.inputArray[c].type&&(e.className="custom-radio");var f=a(b.inputArray[c]).next()[0],g="",h="",i="",j="";"LABEL"===f.tagName&&(g=f.innerHTML,f.hasAttribute("for")&&(h=f.getAttribute("for")),f.hasAttribute("id")&&(i=f.getAttribute("id")),f.hasAttribute("title")&&(j=f.getAttribute("title")),d.removeChild(f));try{if(null===tools.winBrown()?d.replaceChild(e,b.inputArray[c]):d.replaceNode(e,b.inputArray[c]),e.appendChild(b.inputArray[c]),""!==g){var k=document.createElement("span");k.innerHTML=g,e.appendChild(k)}""!==h&&e.setAttribute("for",h),""!==i&&e.setAttribute("id",i),""!==j&&e.setAttribute("title",j)}catch(a){}}}},c.prototype.stateInput=function(){var b=this;if(b.option.setSwitch)for(var c=0;c<b.inputArray.length;c++){var d=b.inputArray[c].parentNode;if("LABEL"===d.tagName)if("radio"===b.inputArray[c].type)b.inputArray[c].checked?a(d).addClass("checked"):a(d).removeClass("checked");else if("checkbox"===b.inputArray[c].type)if(b.option.setSwitchAll){var e=b.inputArray[c].parentNode;if(b.inputArray[c].hasAttribute("checklist")){b.sameChildCheckbox(b.inputArray[c]),b.getParentCheck(b.inputArray[c]);b.inputArray[c].checked?a(e).addClass("checked"):a(e).removeClass("checked");b.checkedSameChildCheckbox(b.inputArray[c])}else b.inputArray[c].checked?a(d).addClass("checked"):a(d).removeClass("checked")}else b.inputArray[c].checked?a(d).addClass("checked"):a(d).removeClass("checked")}},c.prototype.bindInput=function(){var b=this;if(b.option.setSwitch)for(var c=0;c<b.inputArray.length;c++){var d=b.inputArray[c].parentNode;"LABEL"!==d.tagName&&a(b.inputArray[c]).bind("click",function(c){if(!b.sock){if(b.sock=!0,tools.selectStart(!0),"radio"===this.type){var d=b.sameRadio(this);a(d).each(function(){var b=this.parentNode;this.checked?a(b).addClass("checked"):a(b).removeClass("checked")})}else if("checkbox"===this.type){var e=this.parentNode;if(b.option.setSwitchAll)if(this.hasAttribute("checkall")){var d=b.sameListCheckbox(this);this.checked?(a(e).addClass("checked").removeClass("half-checked"),a(d).each(function(){var b=this.parentNode;this.checked=!0,a(b).addClass("checked")})):(a(e).removeClass("checked").removeClass("half-checked"),a(d).each(function(){var b=this.parentNode;this.checked=!1,a(b).removeClass("checked")}))}else if(this.hasAttribute("checklist")){var d=b.sameChildCheckbox(this),f=b.getParentCheck(this);this.checked?a(e).addClass("checked"):a(e).removeClass("checked");var g=b.checkedSameChildCheckbox(this);0===g.length?(f.checked=!1,a(f.parentNode).removeClass("checked").removeClass("half-checked")):g.length<d.length?(f.checked=!1,a(f.parentNode).addClass("half-checked").removeClass("checked")):g.length===d.length&&(f.checked=!0,a(f.parentNode).addClass("checked").removeClass("half-checked"))}else this.checked?a(e).addClass("checked"):a(e).removeClass("checked");else this.checked?a(e).addClass("checked"):a(e).removeClass("checked")}b.sock=!1,tools.selectStart(!1)}})}},c.prototype.sameRadio=function(b){for(var c=[],d=a("input[type=checkbox], input[type=radio]",this.obj),e=0;e<d.length;e++)"INPUT"===d[e].nodeName&&"radio"===d[e].type&&d[e].name===b.name&&(c[c.length]=d[e]);return c},c.prototype.sameListCheckbox=function(b){for(var c=[],d=b.getAttribute("checkall"),e=a("input[type=checkbox], input[type=radio]",this.obj),f=0;f<e.length;f++)"INPUT"===e[f].nodeName&&"checkbox"===e[f].type&&e[f].hasAttribute("checklist")&&e[f].getAttribute("checklist")===d&&(c[c.length]=e[f]);return c},c.prototype.sameChildCheckbox=function(b){for(var c=[],d=b.getAttribute("checklist"),e=a("input[type=checkbox], input[type=radio]",this.obj),f=0;f<e.length;f++)"INPUT"===e[f].nodeName&&"checkbox"===e[f].type&&e[f].hasAttribute("checklist")&&e[f].getAttribute("checklist")===d&&(c[c.length]=e[f]);return c},c.prototype.getParentCheck=function(b){for(var c=null,d=b.getAttribute("checklist"),e=a("input[type=checkbox], input[type=radio]",this.obj),f=0;f<e.length;f++)"INPUT"===e[f].nodeName&&"checkbox"===e[f].type&&e[f].hasAttribute("checkall")&&e[f].getAttribute("checkall")===d&&(c=e[f]);return c},c.prototype.checkedSameChildCheckbox=function(b){for(var c=[],d=b.getAttribute("checklist"),e=a("input[type=checkbox], input[type=radio]",this.obj),f=0;f<e.length;f++)"INPUT"===e[f].nodeName&&"checkbox"===e[f].type&&e[f].hasAttribute("checklist")&&e[f].getAttribute("checklist")===d&&e[f].checked&&(c[c.length]=e[f]);return c},a.fn.customCheck=function(a){var b=new c(this,a);return b.init()}}(ECF,window);