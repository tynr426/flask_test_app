<html><body><script type='text/javascript'>
var hash_mac;var lat;var access_type;var mcc;var mnc;var lac;var cid;var app_version;var imei;var model;var platform;var platform_version;var screen_width;var screen_height;var start_time;var end_time;var running_time;var appid;var url;var app_publish_channel;var urltosave=new Array();var finishinstall;var app_open_count;var app_key;var customEvent;var encrypt;var sleeping=true;var nativeCallInFlight=false;var nativeCallQueue=[];function cdt(a){return(a+"").replace("'","â€˜")}function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=_utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+_keyStr.charAt(j)+_keyStr.charAt(g)+_keyStr.charAt(e)+_keyStr.charAt(d)}return a};_utf8_encode=function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a}}function TGCallback(c){encrypt=c.encrypt;hash_mac=c.hash_mac;lat=c.lat;lng=c.lng;access_type=c.access_type;mcc=c.mcc;mnc=c.mnc;lac=c.lac;cid=c.cid;app_version=c.app_version;imei=c.imei;model=cdt(c.model);platform=c.platform;platform_version=c.platform_version;screen_width=c.screen_width;screen_height=c.screen_height;start_time=c.start_time;end_time=c.end_time;running_time=c.running_time;url=c.URL;appid=c.AppID;app_publish_channel=c.app_publish_channel;finishinstall=c.Status;app_open_count=c.app_open_count;app_key=c.app_key;customEvent=c.customEvent;for(var b in customEvent){var g=customEvent[b];var e=new window.XMLHttpRequest();var a;if(g.primaryKey!=undefined){if(encrypt=="false"||encrypt==false||encrypt==undefined){a=url+"event?appid="+appid+"&app_key="+app_key+"&uid="+hash_mac+"&event_id="+g.eventID+"&action_time="+g.startTime+"&duration="+g.duration+"&end_time="+g.endTime+"&action_count="+"&action_property='"+cdt(JSON.stringify(g.actionProperty))+"'"}else{var d=new Base64();var f={"appid":appid,"app_key":app_key,"uid":hash_mac,"event_id":g.eventID,"action_time":g.startTime,"duration":g.duration,"end_time":g.endTime,"action_count":g.actionCount,"action_property":"'"+cdt(JSON.stringify(g.actionProperty))+"'"};a=url+"event1?encrypted="+encodeURIComponent(d.encode(JSON.stringify(f)))}}else{if(encrypt=="false"||encrypt==false||encrypt==undefined){a=url+"event?appid="+appid+"&app_key="+app_key+"&uid="+hash_mac+"&event_id="+g.eventID+"&action_time="+g.startTime+"&duration=''","&end_time=''"+"&action_count=''"+"&action_property='"+cdt(JSON.stringify(g.actionProperty))+"'"}else{var d=new Base64();var f={"appid":appid,"app_key":app_key,"uid":hash_mac,"event_id":g.eventID,"action_time":g.startTime,"duration":"","end_time":"","action_count":"","action_property":"'"+cdt(JSON.stringify(g.actionProperty))+"'"};a=url+"event1?encrypted="+encodeURIComponent(d.encode(JSON.stringify(f)))}}e.onreadystatechange=function(){if(e.readyState==4&&e.status==200&&e.responseText=="ok"){}else{if(e.readyState==4){SaveUrlLocally(a)}}};e.open("GET",a,true);e.send()}if(finishinstall=="install"){SendInstall()}else{SendRunning()}}function GetSystemInfo(){executeCommand("tg://hash_mac:GetMacAddrSha1;lat:GetLat;lng:GetLng;access_type:GetConnectionType;mcc:GetMcc;mnc:GetMnc;lac:GetLac;cid:GetCid;app_version:GetAppVersion;imei:GetIMEI;model:GetModel;platform:GetPlatform;platform_version:GetPlatformVersion;screen_width:GetResolutionWidth;screen_height:GetResolutionHeight")}function SaveUrlLocally(a){var a;var b="tgsaveurl://"+a;executeCommand(b)}function SaveUserFile(b){var a="tgsaveuserfile://"+b;executeCommand(a)}function SendInstall(){var k=new Date();var g=k.getHours();var c=k.getMinutes();var n=k.getSeconds();var l=k.getFullYear();var f=k.getMonth()+1;var j=k.getDate();var e;var a=new window.XMLHttpRequest();if(encrypt=="false"||encrypt==false||encrypt==undefined){e=url+"install?appid="+appid+"&app_key="+app_key+"&app_version="+app_version+"&app_publish_channel="+app_publish_channel+"&hash_mac="+hash_mac+"&imei="+imei+"&model='"+model+"'&platform="+platform+"&platform_version="+platform_version+"&screen_width="+screen_width+"&screen_height="+screen_height+"&creation_time="+l+"-"+f+"-"+j+" "+g+":"+c+":"+n}else{var b=new Base64();var i={"appid":appid,"app_key":app_key,"app_version":app_version,"app_publish_channel":app_publish_channel,"hash_mac":hash_mac,"imei":imei,"model":"'"+model+"'","platform":platform,"platform_version":platform_version,"screen_width":screen_width,"screen_height":screen_height,"creation_time":l+"-"+f+"-"+j+" "+g+":"+c+":"+n};e=url+"install1?encrypted="+encodeURIComponent(b.encode(JSON.stringify(i)))}a.onreadystatechange=function(){if(a.readyState==4&&a.status==200&&a.responseText=="ok"){SaveUserFile("installstatus:running");SendRunning()}else{if(a.readyState==4){SaveUserFile("installstatus:install");SaveUrlLocally(e)}}};a.open("GET",e,true);a.send()}function SendRunning(){var k=new Date();var g=k.getHours();var c=k.getMinutes();var n=k.getSeconds();var l=k.getFullYear();var f=k.getMonth()+1;var j=k.getDate();var e;if(encrypt=="false"||encrypt==false||encrypt==undefined){e=url+"running?appid="+appid+"&app_key="+app_key+"&running_time="+running_time+"&hash_mac="+hash_mac+"&lat="+lat+"&lng="+lng+"&access_type="+access_type+"&mcc="+mcc+"&mnc="+mnc+"&lac="+lac+"&cid="+cid+"&start_time="+start_time+"&end_time="+end_time+"&creation_time="+l+"-"+f+"-"+j+" "+g+":"+c+":"+n+"&app_open_count="+app_open_count}else{var b=new Base64();var i={"appid":appid,"app_key":app_key,"running_time":running_time,"hash_mac":hash_mac,"lat":lat,"lng":lng,"access_type":access_type,"mcc":mcc,"mnc":mnc,"lac":lac,"cid":cid,"start_time":start_time,"end_time":end_time,"creation_time":l+"-"+f+"-"+j+" "+g+":"+c+":"+n,"app_open_count":app_open_count};e=url+"running1?encrypted="+encodeURIComponent(b.encode(JSON.stringify(i)))}urltosave.push(e.toString());var a=new window.XMLHttpRequest();a.onreadystatechange=function(){if(a.readyState==4&&a.status==200&&a.responseText=="ok"){}else{if(a.readyState==4){SaveUrlLocally(e)}}};a.open("GET",e,true);a.send()}function NotifyClick(f){var i=new Date();var e=i.getHours();var b=i.getMinutes();var k=i.getSeconds();var j=i.getFullYear();var c=i.getMonth()+1;var g=i.getDate();var a=new window.XMLHttpRequest();a.open("GET",url+"tracking?adid="+f+"&appid="+appid+"&request_type=click&hash_mac="+hash_mac+"&lat="+lat+"&lng="+lng+"&access_type="+access_type+"&mcc="+mcc+"&mnc="+mnc+"&lac="+lac+"&cid="+cid+"&creation_time="+j+"-"+c+"-"+g+" "+e+":"+b+":"+k,true);a.send();if(saveURL==true){urltosave.push(runningurl.toString())}}function NotifyView(f){var i=new Date();var e=i.getHours();var b=i.getMinutes();var k=i.getSeconds();var j=i.getFullYear();var c=i.getMonth()+1;var g=i.getDate();var a=new window.XMLHttpRequest();a.open("GET",url+"tracking?adid="+f+"&appid="+appid+"&request_type=view&hash_mac="+hash_mac+"&lat="+lat+"&lng="+lng+"&access_type="+access_type+"&mcc="+mcc+"&mnc="+mnc+"&lac="+lac+"&cid="+cid+"&creation_time="+j+"-"+c+"-"+g+" "+e+":"+b+":"+k,true);a.send();if(saveURL==true){urltosave.push(runningurl.toString())}}function init(){var b=false;var a=[]}function executeCommand(a){if(nativeCallInFlight){nativeCallQueue.push(a)}else{nativeCallInFlight=true;window.location=a}}function nativeCallComplete(b){if(nativeCallQueue.length==0){nativeCallInFlight=false;return}var a=nativeCallQueue.shift();window.location=a;return"OK"};
</script></body></html>
